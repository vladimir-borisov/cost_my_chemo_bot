import decimal
from textwrap import dedent

import aiogram.utils.markdown as md

from cost_my_chemo_bot.db import Category, Course, Nosology

WELCOME = """
–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –≠—Ç–æ —á–∞—Ç-–±–æ—Ç –æ–Ω–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π ¬´–ö–ª–∏–Ω–∏–∫–∏ –¥–æ–∫—Ç–æ—Ä–∞ –õ–∞—Å–∫–æ–≤–∞¬ª (hemonc.ru). 
–Ø –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏ –≤ –Ω–∞—à–µ–π –∫–ª–∏–Ω–∏–∫–µ.
‚ùó*–í–∞–∂–Ω–æ*: —Å –º–æ–µ–π –ø–æ–º–æ—â—å—é –ø–æ–∫–∞ –º–æ–∂–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –Ω–µ –≤—Å–µ –∫—É—Ä—Å—ã —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏, –∫–æ—Ç–æ—Ä—É—é –º—ã –ø—Ä–æ–≤–æ–¥–∏–º –≤ –∫–ª–∏–Ω–∏–∫–µ.
–ï—Å–ª–∏ –≤—ã –Ω–µ –Ω–∞—à–ª–∏ —Å–≤–æ–µ–≥–æ –∫—É—Ä—Å–∞, –ø—Ä–∏—à–ª–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ info@hemonc.ru –∏ –º—ã –ø—Ä–∏—à–ª—ë–º –≤–∞–º —Ä–∞—Å—á—ë—Ç –Ω–∞ –ø–æ—á—Ç—É.

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.
"""

START = dedent("""
–°–ø–∞—Å–∏–±–æ. –î–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è —Ä–æ—Å—Ç –∏ –≤–µ—Å —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ª–µ—á–∏—Ç—å—Å—è, –∏ —Å—Ö–µ–º–∞ –ª–µ—á–µ–Ω–∏—è/–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –ø—Ä–µ–ø–∞—Ä–∞—Ç. 

‚ùó*–í–∞–∂–Ω–æ*: –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å—á–µ—Ç–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –∫—É—Ä—Å–∞. 

–ß—Ç–æ —Ç–∞–∫–æ–µ ¬´–∫—É—Ä—Å¬ª –≤ —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏? –≠—Ç–æ –æ–¥–Ω–æ –≤–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤. –û–±—ã—á–Ω–æ –∫—É—Ä—Å—ã —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏ –ø—Ä–æ–≤–æ–¥—è—Ç —Ä–∞–∑ –≤ 1-3 –Ω–µ–¥–µ–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ö–µ–º—ã. –í –≤—ã–ø–∏—Å–∫–µ —á–∞—â–µ –≤—Å–µ–≥–æ –±—ã–≤–∞–µ—Ç —É–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ —á–∞—Å—Ç–æ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –∫—É—Ä—Å—ã –∏ —Å–∫–æ–ª—å–∫–æ –∏—Ö –Ω—É–∂–Ω–æ.

–°—Ç–æ–∏–º–æ—Å—Ç—å –∫—É—Ä—Å–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã –±—É–¥–µ–º —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å, –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ —Å—Ö–µ–º–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–∏—è, –ø—Ä–µ–º–µ–¥–∏–∫–∞—Ü–∏—é (–ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –æ—Ç —Ç–æ—à–Ω–æ—Ç—ã), –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Å–µ–∞–Ω—Å–∞ —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏ –≤ –¥–Ω–µ–≤–Ω–æ–º —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–µ, –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –≤—Ä–∞—á–∞-–æ–Ω–∫–æ–ª–æ–≥–∞ –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å–µ—Å—Ç—Ä—ã. –¢–æ –µ—Å—Ç—å, —ç—Ç–æ –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Å–µ–∞–Ω—Å–∞ —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏ –≤ ¬´–ö–ª–∏–Ω–∏–∫–µ –¥–æ–∫—Ç–æ—Ä–∞ –õ–∞—Å–∫–æ–≤–∞¬ª.

–ù–∞—á–Ω—ë–º?
""")

HEIGHT_INPUT = """
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ä–æ—Å—Ç —á–µ–ª–æ–≤–µ–∫–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∫—É—Ä—Å, –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–∞—Ö.
–ù—É–∂–Ω–æ –æ–∫—Ä—É–≥–ª–∏—Ç—å –¥–æ —Ü–µ–ª–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –Ω–µ –Ω—É–∂–Ω—ã.
–ù–∞–ø—Ä–∏–º–µ—Ä: 170
"""
HEIGHT_WRONG = """
–≠—Ç–æ –Ω–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ üßê
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ä–æ—Å—Ç –≤ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–∞—Ö (—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ). 
–ù–∞–ø—Ä–∏–º–µ—Ä: 170
"""

WEIGHT_INPUT = "–ê —Ç–µ–ø–µ—Ä—å –µ—ë/–µ–≥–æ –≤–µ—Å –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö."
WEIGHT_WRONG = """
–≠—Ç–æ –Ω–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ üßê
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–µ—Å –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö (—Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ). 
–ù–∞–ø—Ä–∏–º–µ—Ä: 75
"""

CATEGORY_CHOOSE = "–ß—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ª–µ—á–µ–Ω–∏—è, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–±–ª–∞—Å—Ç—å, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ. –í —Ä–∞–∑–¥–µ–ª–µ ¬´–°–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è¬ª –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Ü–µ–Ω—É –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤."
CATEGORY_WRONG = "–ù–µ–≤–µ—Ä–Ω–æ –≤—ã–±—Ä–∞–Ω–∞ –æ–±–ª–∞—Å—Ç—å. –í—ã–±–µ—Ä–∏—Ç–µ –æ–±–ª–∞—Å—Ç—å –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ."
NOSOLOGY_CHOOSE = "–¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ:"
NOSOLOGY_WRONG = "–ù–µ–≤–µ—Ä–Ω–æ –≤—ã–±—Ä–∞–Ω–æ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ. –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ."
COURSE_CHOOSE = (
    "–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞ –∏–ª–∏ –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞. –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±—ã—á–Ω–æ –µ—Å—Ç—å –≤ –≤—ã–ø–∏—Å–∫–µ."
)
COURSE_WRONG = (
    "–ù–µ–≤–µ—Ä–Ω–æ –≤—ã–±—Ä–∞–Ω –∫—É—Ä—Å –∏–ª–∏ –ø—Ä–µ–ø–∞—Ä–∞—Ç. –í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å –∏–ª–∏ –ø—Ä–µ–ø–∞—Ä–∞—Ç –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ."
)
CUSTOM_COURSE_INPUT = """
–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–∫–∞–ª–∏, –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤. 
–ú—ã —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ø—Ä–∏—à–ª—ë–º –≤–∞–º —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
"""

DATA_CONFIRMATION = dedent(
    """
    –°–ø–∞—Å–∏–±–æ! –í—ã —É–∫–∞–∑–∞–ª–∏ –≤—Å–µ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. 
    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—Å—ë –ª–∏ —Ç–∞–∫? 
    –†–æ—Å—Ç: {height} —Å–º
    –í–µ—Å: {weight} –∫–≥
    –†–∞–∑–¥–µ–ª: {category_name}
    –ó–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ: {nosology_name}
    –ö—É—Ä—Å: {course_name}
    –í—Å—ë –≤–µ—Ä–Ω–æ?
"""
)
PRICE_FOR_CUSTOM_COURSE = "–¶–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É"
CURRENCY = "—Ä—É–±–ª–µ–π"
DATA_CORRECT = dedent(
    """
    –û—Ç–ª–∏—á–Ω–æ! –°—Ç–æ–∏–º–æ—Å—Ç—å –∫—É—Ä—Å–∞ (–æ–¥–Ω–æ–≥–æ —Å–µ–∞–Ω—Å–∞ —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏) —Å–æ—Å—Ç–∞–≤–∏—Ç: {course_price}
    –û–Ω–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–∫—É–ø–æ—á–Ω–æ–π —Ü–µ–Ω—ã –ø—Ä–µ–ø–∞—Ä–∞—Ç–∞.
    
    –†–∞—Å—á–µ—Ç –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–∞ —Å —Ç–∞–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ–º:
    
    –†–æ—Å—Ç: {height} —Å–º
    –í–µ—Å: {weight} –∫–≥
    –†–∞–∑–¥–µ–ª: {category_name}
    –ó–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ: {nosology_name}
    –ö—É—Ä—Å: {course_name}
    
    –í —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Ö–æ–¥—è—Ç –≤—Å–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –≤–≤–µ–¥–µ–Ω–∏—è, —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è (–ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –æ—Ç —Ç–æ—à–Ω–æ—Ç—ã), 
    –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ö–∏–º–∏–æ—Ç–µ—Ä–∞–ø–∏–∏ –≤ –¥–Ω–µ–≤–Ω–æ–º —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–µ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≤—Ä–∞—á–∞ –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å–µ—Å—Ç—Ä—ã. 
    
    –í—ã –º–æ–∂–µ—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∏–≤ –µ–≥–æ —Å–µ–±–µ (–Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ, –≤—ã–±–µ—Ä–∏—Ç–µ ¬´–ü–µ—Ä–µ—Å–ª–∞—Ç—å¬ª -> ¬´–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ¬ª).
    –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±—Å—É–¥–∏—Ç—å –ª–µ—á–µ–Ω–∏–µ —É –Ω–∞—Å, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–º –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ email (–ª—é–±–æ–π –ø—É–Ω–∫—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å). –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è.
    –ê –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ ¬´–ö–ª–∏–Ω–∏–∫—É –¥–æ–∫—Ç–æ—Ä–∞ –õ–∞—Å–∫–æ–≤–∞¬ª —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –Ω–∞–ø–∏—à–∏—Ç–µ @klinikalaskova_bot, –Ω–∞ –ø–æ—á—Ç—É info@hemonc.ru –∏–ª–∏ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ +7 499 112-25-06. –ë—É–¥–µ–º —Ä–∞–¥—ã –ø–æ–º–æ—á—å –≤–∞–º!
"""
)
LEAD_FIRST_NAME = "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
LEAD_LAST_NAME = "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é"
LEAD_EMAIL = "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email"
LEAD_EMAIL_WRONG = "–ù–µ–≤–µ—Ä–Ω–æ –≤–≤–µ–¥–µ–Ω email. –í–≤–µ–¥–∏—Ç–µ email."
LEAD_PHONE_NUMBER = (
    "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.\n"
    "–ù–∞–ø—Ä–∏–º–µ—Ä: +7 999 999 99 99 –¥–ª—è –†–æ—Å—Å–∏–∏ –∏–ª–∏ +375 99 999 99 99 –¥–ª—è –ë–µ–ª–∞—Ä—É—Å–∏."
)
LEAD_PHONE_NUMBER_WRONG = f"–ù–µ–≤–µ—Ä–Ω–æ –≤–≤–µ–¥–µ–Ω –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞. {LEAD_PHONE_NUMBER}"
LEAD_CONFIRMATION = dedent(
    """
    –°–ø–∞—Å–∏–±–æ! –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º. –í—ã —É–∫–∞–∑–∞–ª–∏:

    –ò–º—è: {first_name}
    –§–∞–º–∏–ª–∏—è: {last_name}
    E-mail: {email}
    –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: {phone_number}

    –í—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ?
"""
)
FINAL_MESSAGE = "–û—Ç–ª–∏—á–Ω–æ. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è."
GOODBYE = "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"


def course_selected(
    height: int,
    weight: int,
    category: Category,
    nosology: Nosology,
    course: Course,
    course_price: decimal.Decimal,
) -> str:
    return md.text(
        md.text("–†–æ—Å—Ç:", md.bold(height)),
        md.text("–í–µ—Å:", md.code(weight)),
        md.text("–ö–∞—Ç–µ–≥–æ—Ä–∏—è:", md.italic(category.categoryName)),
        md.text("–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è:", md.italic(nosology.nosologyName)),
        md.text("–ö—É—Ä—Å:", course.Course),
        md.text("–¶–µ–Ω–∞:", f"{course_price:.2f}".replace(".", ",")),
        sep="\n",
    )
